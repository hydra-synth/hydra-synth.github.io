<!DOCTYPE html>
<html lang="pt" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Tópicos Adicionais # live coding: avaliar linhas ou blocos de código separado # Pressione ctrl&#43;enter para executar uma linha de código. Pressione shift&#43;ctrl&#43;enter para avaliar um bloco de código. Dica: podemos alternar entre diferentes linhas de código para uma performance de live coding.
osc().out() // executar esta primeira noise().mult(osc(10,0.1,10)).out() // experimente este arrays # Arrays (listas) em Hydra são uma coleção sequenciada de valores. Podem ser usadas para alterar vários parâmetros no tempo.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Tópicos Adicionais" />
<meta property="og:description" content="Tópicos Adicionais # live coding: avaliar linhas ou blocos de código separado # Pressione ctrl&#43;enter para executar uma linha de código. Pressione shift&#43;ctrl&#43;enter para avaliar um bloco de código. Dica: podemos alternar entre diferentes linhas de código para uma performance de live coding.
osc().out() // executar esta primeira noise().mult(osc(10,0.1,10)).out() // experimente este arrays # Arrays (listas) em Hydra são uma coleção sequenciada de valores. Podem ser usadas para alterar vários parâmetros no tempo." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hydra.ojack.xyz/docs/pt/docs/learning/additional-topics/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2023-11-21T18:58:36+01:00" />
<title>Tópicos Adicionais | hydra video synth</title>
<link rel="manifest" href="/docs/manifest.json">
<link rel="icon" href="/docs/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/docs/book.min.9bac9dc478cf52ca962a4f35e004c2cdc70a5461e7451956af25f951f9749ded.css" integrity="sha256-m6ydxHjPUsqWKk814ATCzccKVGHnRRlWryX5Ufl0ne0=" crossorigin="anonymous">
  <script defer src="/docs/flexsearch.min.js"></script>
  <script defer src="/docs/pt.search.min.d6101908bf2bcc4aaaa2886380e2ecf184490d4d2905984f6ab51eeabb1a4cb7.js" integrity="sha256-1hAZCL8rzEqqoohjgOLs8YRJDU0pBZhParUe6rsaTLc=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/codemirror.min.css"
integrity="sha512-MWdvo/Qqcf4pY1ecQUB1uBn0qLp19U/qJ1Rpp2BDZeuBA7YsFEwkvqR/+aG4BroPiAYDunKJ6X8R/Pmdt3p7oA=="
crossorigin="anonymous"
/>
<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/show-hint.min.css"
crossorigin="anonymous"
/>
<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/theme/paraiso-dark.min.css"
crossorigin="anonymous"
/>
<script src="https://unpkg.com/torus-dom/dist/index.min.js"></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/codemirror.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/mode/javascript/javascript.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/javascript-hint.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/show-hint.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/selection/mark-selection.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/comment/comment.min.js"
crossorigin="anonymous"
></script>
<script src="https://unpkg.com/hydra-synth"></script>
<script src="https://hydra.ojack.xyz/docs/js/hydra-torus-editor.js"></script>
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/docs/pt/"><span>hydra video synth</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Buscar" aria-label="Buscar" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  



  
    
  
    
  



<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/docs/svg/translate.svg" class="book-icon" alt="Languages" />
        Portuguese | Português
      </a>
    </label>

    <ul>
      
      <li>
        <a href="https://hydra.ojack.xyz/docs/">
          English
        </a>
      </li>
      
      <li>
        <a href="https://hydra.ojack.xyz/docs/ja/">
          日本語
        </a>
      </li>
      
    </ul>
  </li>
</ul>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>Learning</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/pt/docs/learning/getting-started/" class="">Começando</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/pt/docs/learning/additional-topics/" class="active">Tópicos Adicionais</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="https://opencollective.com/hydra-synth"  target="_blank" rel="noopener">
        contribute
      </a>
  </li>
  
  <li>
    <a href="https://hydra.ojack.xyz/grants"  target="_blank" rel="noopener">
        grants
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/docs/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Tópicos Adicionais</strong>

  <label for="toc-control">
    
    <img src="/docs/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#live-coding-avaliar-linhas-ou-blocos-de-código-separado">live coding: avaliar linhas ou blocos de código separado</a></li>
    <li><a href="#arrays">arrays</a></li>
    <li><a href="#audio">audio</a></li>
    <li><a href="#funções-glsl-personalizadas-httpshydra-bookglitchmeglsl-inglês">funções glsl personalizadas: <a href="https://hydra-book.glitch.me/#/glsl">https://hydra-book.glitch.me/#/glsl</a> (inglês)</a></li>
    <li><a href="#do-documento-antigo">do documento antigo:</a></li>
    <li><a href="#passando-funções-como-variáveis">Passando funções como variáveis</a></li>
    <li><a href="#captura-da-área-de-trabalho">Captura da área de trabalho</a></li>
    <li><a href="#conectando-a-streams-remotos">Conectando a streams remotos</a></li>
    <li><a href="#usando-p5js-com-hydra">Usando p5.js com Hydra</a></li>
    <li><a href="#carregando-scripts-externos">Carregando scripts externos</a></li>
    <li><a href="#responsividade-a-áudio">Responsividade a áudio</a></li>
    <li><a href="#midi-experimental">MIDI (experimental)</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="tópicos-adicionais">
  Tópicos Adicionais
  <a class="anchor" href="#t%c3%b3picos-adicionais">#</a>
</h1>
<h2 id="live-coding-avaliar-linhas-ou-blocos-de-código-separado">
  live coding: avaliar linhas ou blocos de código separado
  <a class="anchor" href="#live-coding-avaliar-linhas-ou-blocos-de-c%c3%b3digo-separado">#</a>
</h2>
<p>Pressione <code>ctrl+enter</code> para executar uma linha de código.
Pressione <code>shift+ctrl+enter</code> para avaliar um bloco de código.
Dica: podemos alternar entre diferentes linhas de código para uma performance de live coding.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">osc</span>().<span style="color:#a6e22e">out</span>() <span style="color:#75715e">// executar esta primeira
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">noise</span>().<span style="color:#a6e22e">mult</span>(<span style="color:#a6e22e">osc</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">0.1</span>,<span style="color:#ae81ff">10</span>)).<span style="color:#a6e22e">out</span>() <span style="color:#75715e">// experimente este
</span></span></span></code></pre></div><h2 id="arrays">
  arrays
  <a class="anchor" href="#arrays">#</a>
</h2>
<p>Arrays (listas) em Hydra são uma coleção sequenciada de valores. Podem ser usadas para alterar vários parâmetros no tempo.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">osc</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">0.1</span>,[<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">0.5</span>]).<span style="color:#a6e22e">out</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">shape</span>([<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">200</span>,<span style="color:#ae81ff">2</span>]).<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><h2 id="audio">
  audio
  <a class="anchor" href="#audio">#</a>
</h2>
<p>Faça visuais reativos a áudio. O sinal de áudio funciona como um parâmetro de entrada e podemos multiplicar este valor a fim de alterar a quantidade de mudanças.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">osc</span>(<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">0.1</span>, ()=&gt;<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">ff</span>[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">10</span>).<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><h2 id="funções-glsl-personalizadas-httpshydra-bookglitchmeglsl-inglês">
  funções glsl personalizadas: <a href="https://hydra-book.glitch.me/#/glsl">https://hydra-book.glitch.me/#/glsl</a> (inglês)
  <a class="anchor" href="#fun%c3%a7%c3%b5es-glsl-personalizadas-httpshydra-bookglitchmeglsl-ingl%c3%aas">#</a>
</h2>
<h2 id="do-documento-antigo">
  do documento antigo:
  <a class="anchor" href="#do-documento-antigo">#</a>
</h2>
<h2 id="passando-funções-como-variáveis">
  Passando funções como variáveis
  <a class="anchor" href="#passando-fun%c3%a7%c3%b5es-como-vari%c3%a1veis">#</a>
</h2>
<p>Cada parâmetro pode ser definido como uma função ao invés de uma variável estática. Por exemplo,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">osc</span>(<span style="color:#66d9ef">function</span>(){<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">sin</span>(<span style="color:#a6e22e">time</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.1</span>)}).<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><p>modifica a frequência do oscilador em uma função do tempo (tempo é uma variável global que representa os segundos que passaram desde o carregamento da página). Isto pode ser escrito de forma mais concisa usando a sintaxe es6:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">osc</span>(() =&gt; (<span style="color:#ae81ff">100</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">sin</span>(<span style="color:#a6e22e">time</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.1</span>))).<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><h2 id="captura-da-área-de-trabalho">
  Captura da área de trabalho
  <a class="anchor" href="#captura-da-%c3%a1rea-de-trabalho">#</a>
</h2>
<p>Abra um diálogo para selecionar uma aba de tela a ser usada como textura de entrada:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">s0</span>.<span style="color:#a6e22e">initScreen</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">src</span>(<span style="color:#a6e22e">s0</span>).<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><h2 id="conectando-a-streams-remotos">
  Conectando a streams remotos
  <a class="anchor" href="#conectando-a-streams-remotos">#</a>
</h2>
<p>Qualquer instância de Hydra pode usar outras instâncias/janelas contendo Hydra como fontes de entrada, desde que estejam conectadas à internet e não bloqueadas por um firewall. Hydra usa a webrtc (webstreaming em tempo real) em segundo plano para compartilhar fluxos de vídeo entre janelas abertas. O módulo incluso rtc-patch-bay gerencia conexões entre janelas conectadas e também pode ser usado como um módulo autônomo para converter qualquer website em uma fonte dentro de Hydra (veja fonte de câmera autônoma abaixo, por exemplo).</p>
<p>Para começar, abra Hydra simultaneamente em duas janelas separadas.
Em uma das janelas, defina um nome para a fonte de patch-bay dada:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#34;myGraphics&#34;</span>)
</span></span></code></pre></div><p>O título da janela deve mudar para o nome inserido em <code>setName()</code>.</p>
<p>A partir da outra janela, inicie &ldquo;myGraphics&rdquo; como uma fonte de stream.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">s0</span>.<span style="color:#a6e22e">initStream</span>(<span style="color:#e6db74">&#34;myGraphics&#34;</span>)
</span></span></code></pre></div><p>renderize para a tela:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">s0</span>.<span style="color:#a6e22e">initStream</span>(<span style="color:#e6db74">&#34;myGraphics&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">src</span>(<span style="color:#a6e22e">s0</span>).<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><p>As conexões às vezes levam alguns segundos para serem estabelecidas; abra o console do navegador para ver o progresso.
Para listar as fontes disponíveis, digite o seguinte no console:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">list</span>()
</span></span></code></pre></div><h2 id="usando-p5js-com-hydra">
  Usando p5.js com Hydra
  <a class="anchor" href="#usando-p5js-com-hydra">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Inicializa uma nova instância p5. Só é necessário chamar uma vez
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p5</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">P5</span>() <span style="color:#75715e">// {width: window.innerWidth, height:window.innerHeight, mode: &#39;P2D&#39;}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// desenha um retângulo no ponto 300, 100
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Note que P5 roda em modo instância, portanto, todas as funções precisam começar com a variável onde P5 foi inicializado (neste caso p5)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// referência para P5: https://P5js.org/reference/ (inglês)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// explicação do modo de instância: https://github.com/processing/P5.js/wiki/Global-and-instance-mode (inglês)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Durante o livecoding, a função &#34;setup()&#34; do P5.js basicamente não tem utilidade; qualquer coisa que for chamada em setup pode simplesmente ser chamada fora de qualquer função.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">clear</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">100</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#a6e22e">i</span><span style="color:#f92672">*</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">i</span><span style="color:#f92672">%</span><span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">255</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#a6e22e">i</span><span style="color:#f92672">*</span><span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">200</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Para programar animações ao vivo, você pode redefinir a função de desenho do P5 da seguinte forma:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// (um retângulo que segue o mouse)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">draw</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">mouseX</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">mouseY</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">mouseX</span>, <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">mouseY</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">150</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Para usar P5 como entrada para Hydra, basta usar o canvas como fonte:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s0</span>.<span style="color:#a6e22e">init</span>({<span style="color:#a6e22e">src</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">canvas</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Depois, renderize o canvas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">src</span>(<span style="color:#a6e22e">s0</span>).<span style="color:#a6e22e">repeat</span>().<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><h2 id="carregando-scripts-externos">
  Carregando scripts externos
  <a class="anchor" href="#carregando-scripts-externos">#</a>
</h2>
<p>A função <code>await loadScript()</code> permite carregar outras bibliotecas empacotadas Javascript dentro do editor da Hydra. Qualquer código Javascript pode ser executado no editor Hydra.</p>
<p>Aqui está um exemplo usando o Three.js no editor web:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">loadScript</span>(<span style="color:#e6db74">&#34;https://threejs.org/build/three.js&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">scene</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">Scene</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">camera</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">PerspectiveCamera</span>(<span style="color:#ae81ff">75</span>, window.<span style="color:#a6e22e">innerWidth</span> <span style="color:#f92672">/</span> window.<span style="color:#a6e22e">innerHeight</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">renderer</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">WebGLRenderer</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">setSize</span>(<span style="color:#a6e22e">width</span>, <span style="color:#a6e22e">height</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">material</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">MeshBasicMaterial</span>({<span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0x00ff00</span>})
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">geometry</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">BoxGeometry</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cube</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">Mesh</span>(<span style="color:#a6e22e">geometry</span>, <span style="color:#a6e22e">material</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">scene</span>.<span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">cube</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">camera</span>.<span style="color:#a6e22e">position</span>.<span style="color:#a6e22e">z</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// &#39;update&#39; é uma função reservada que será executada toda vez que o contexto de renderização principal de Hydra for atualizado
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">update</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">cube</span>.<span style="color:#a6e22e">rotation</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.01</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">cube</span>.<span style="color:#a6e22e">rotation</span>.<span style="color:#a6e22e">y</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.01</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">render</span>( <span style="color:#a6e22e">scene</span>, <span style="color:#a6e22e">camera</span> );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s0</span>.<span style="color:#a6e22e">init</span>({ <span style="color:#a6e22e">src</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">domElement</span> })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">src</span>(<span style="color:#a6e22e">s0</span>).<span style="color:#a6e22e">repeat</span>().<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><p>E aqui está um exemplo carregando a biblioteca Tone.js:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">loadScript</span>(<span style="color:#e6db74">&#34;https://unpkg.com/tone&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">synth</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Tone</span>.<span style="color:#a6e22e">Synth</span>().<span style="color:#a6e22e">toDestination</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">synth</span>.<span style="color:#a6e22e">triggerAttackRelease</span>(<span style="color:#e6db74">&#34;C4&#34;</span>, <span style="color:#e6db74">&#34;8n&#34;</span>);
</span></span></code></pre></div><h2 id="responsividade-a-áudio">
  Responsividade a áudio
  <a class="anchor" href="#responsividade-a-%c3%a1udio">#</a>
</h2>
<p>A funcionalidade FFT está disponível por meio de um objeto de áudio acessado via &ldquo;a&rdquo;. O editor usa <a href="https://github.com/meyda/meyda">https://github.com/meyda/meyda</a> para análise de áudio. Para mostrar os compartimentos fft,</p>
<pre tabindex="0"><code>a.show()
</code></pre><p>Defina o número de compartimentos fft:</p>
<pre tabindex="0"><code>a.setBins(6)
</code></pre><p>Acesse o valor do compartimento mais à esquerda (frequência mais baixa):</p>
<pre tabindex="0"><code>a.fft[0]
</code></pre><p>Use o valor para controlar uma variável:</p>
<pre tabindex="0"><code>osc(10, 0, () =&gt; (a.fft[0]*4))
  .out()
</code></pre><p>É possível calibrar a responsividade alterando o valor mínimo e máximo detectado (representado por linhas de desfoque sobre o fft). Para definir o valor mínimo detectado:</p>
<pre tabindex="0"><code>a.setCutoff(4)
</code></pre><p>Definir a escala altera o intervalo detectado.</p>
<pre tabindex="0"><code>a.setScale(2)
</code></pre><p><code>fft[&lt;índice&gt;]</code> retornará um valor entre 0 e 1, onde 0 representa o corte e 1 corresponde ao máximo.</p>
<p>Você pode definir a suavização entre as leituras de nível de áudio (valores entre 0 e 1). 0 corresponde a nenhuma suavização (mais saltos, tempo de reação mais rápido), enquanto 1 significa que o valor nunca mudará.</p>
<pre tabindex="0"><code>a.setSmooth(0.8)
</code></pre><p>Para ocultar a onda de áudio:</p>
<pre tabindex="0"><code>a.hide()
</code></pre><h2 id="midi-experimental">
  MIDI (experimental)
  <a class="anchor" href="#midi-experimental">#</a>
</h2>
<p>Controladores MIDI podem trabalhar com Hydra via WebMIDI. Um exemplo pode ser visto em <a href="https://github.com/ojack/hydra/blob/master/docs/midi.md">/docs/midi.md</a>.</p>
<p><em>Tradução por <a href="https://github.com/a-1219">A1219</a> e <a href="https://github.com/muziekmutantti">Vagné L.</a></em></p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/hydra-synth/hydra-docs-v2/commit/068530901b95a7de5f4b84c9960590c70ef27a20" title='Última modificação por ojack | November 21, 2023' target="_blank" rel="noopener">
      <img src="/docs/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>November 21, 2023</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/hydra-synth/hydra-docs-v2/edit/main/content/docs/learning/additional-topics.md" target="_blank" rel="noopener">
      <img src="/docs/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Editar página</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#live-coding-avaliar-linhas-ou-blocos-de-código-separado">live coding: avaliar linhas ou blocos de código separado</a></li>
    <li><a href="#arrays">arrays</a></li>
    <li><a href="#audio">audio</a></li>
    <li><a href="#funções-glsl-personalizadas-httpshydra-bookglitchmeglsl-inglês">funções glsl personalizadas: <a href="https://hydra-book.glitch.me/#/glsl">https://hydra-book.glitch.me/#/glsl</a> (inglês)</a></li>
    <li><a href="#do-documento-antigo">do documento antigo:</a></li>
    <li><a href="#passando-funções-como-variáveis">Passando funções como variáveis</a></li>
    <li><a href="#captura-da-área-de-trabalho">Captura da área de trabalho</a></li>
    <li><a href="#conectando-a-streams-remotos">Conectando a streams remotos</a></li>
    <li><a href="#usando-p5js-com-hydra">Usando p5.js com Hydra</a></li>
    <li><a href="#carregando-scripts-externos">Carregando scripts externos</a></li>
    <li><a href="#responsividade-a-áudio">Responsividade a áudio</a></li>
    <li><a href="#midi-experimental">MIDI (experimental)</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












