<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Using hydra with other javascript libraries # Hydra is written in javascript, and compatible with many other javascript libraries. The hydra web editor executes javascript directly in the browser, so it is possible to load many other libraries and scripts directly in the browser.
p5.js # p5.js is a JavaScript library for creative coding, with a focus on making coding accessible and inclusive for artists, designers, educators, beginners, and anyone else!">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Using hydra with other javascript libraries" />
<meta property="og:description" content="Using hydra with other javascript libraries # Hydra is written in javascript, and compatible with many other javascript libraries. The hydra web editor executes javascript directly in the browser, so it is possible to load many other libraries and scripts directly in the browser.
p5.js # p5.js is a JavaScript library for creative coding, with a focus on making coding accessible and inclusive for artists, designers, educators, beginners, and anyone else!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hydra.ojack.xyz/docs/docs/learning_tutorial/next-steps/extending-hydra/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2023-11-20T16:19:06+01:00" />

<title>Using hydra with other javascript libraries | hydra video synth</title>
<link rel="manifest" href="/docs/manifest.json">
<link rel="icon" href="/docs/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/docs/book.min.9bac9dc478cf52ca962a4f35e004c2cdc70a5461e7451956af25f951f9749ded.css" integrity="sha256-m6ydxHjPUsqWKk814ATCzccKVGHnRRlWryX5Ufl0ne0=" crossorigin="anonymous">
  <script defer src="/docs/flexsearch.min.js"></script>
  <script defer src="/docs/en.search.min.cd7d8d297f2cd7af2e324f19c201fa31d3d82009065e2c5825f67d53c44b94e2.js" integrity="sha256-zX2NKX8s168uMk8ZwgH6MdPYIAkGXixYJfZ9U8RLlOI=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/codemirror.min.css"
integrity="sha512-MWdvo/Qqcf4pY1ecQUB1uBn0qLp19U/qJ1Rpp2BDZeuBA7YsFEwkvqR/+aG4BroPiAYDunKJ6X8R/Pmdt3p7oA=="
crossorigin="anonymous"
/>
<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/show-hint.min.css"
crossorigin="anonymous"
/>
<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/theme/paraiso-dark.min.css"
crossorigin="anonymous"
/>
<script src="https://cdn.jsdelivr.net/npm/torus-dom/dist/index.min.js"></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/codemirror.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/mode/javascript/javascript.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/javascript-hint.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/show-hint.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/selection/mark-selection.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/comment/comment.min.js"
crossorigin="anonymous"
></script>
<script src="https://cdn.jsdelivr.net/npm/hydra-synth/dist/hydra-synth.js"></script>
<script src="https://hydra.ojack.xyz/docs//js/hydra-torus-editor.js"></script>
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/docs/"><span>hydra video synth</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  



  
    
  
    
  



<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/docs/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="https://hydra.ojack.xyz/docs/ja/">
          日本語
        </a>
      </li>
      
      <li>
        <a href="https://hydra.ojack.xyz/docs/pt/">
          Portuguese | Português
        </a>
      </li>
      
    </ul>
  </li>
</ul>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/quick-start/" class="">quick start</a>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-632bd1ffdbcae04a1b0f08fa1dd878c0" class="toggle"  />
    <label for="section-632bd1ffdbcae04a1b0f08fa1dd878c0" class="flex justify-between">
      <a href="/docs/docs/learning/" class="">learning</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/getting-started/" class="">getting started</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/web-editor/" class="">web editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-abc558a55caa3a21197cd84f6409f58d" class="toggle"  />
    <label for="section-abc558a55caa3a21197cd84f6409f58d" class="flex justify-between">
      <a href="/docs/docs/learning/video-synth-basics/" class="">video synth basics</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/src/" class="">sources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/outputs/" class="">outputs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/transforms/" class="">transforms</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/blending/" class="">blending</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/modulate/" class="">modulation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/settings/" class="">settings &amp; state</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/external-sources/" class="">external sources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-eca88cb65a773793437f0e9114baf99c" class="toggle"  />
    <label for="section-eca88cb65a773793437f0e9114baf99c" class="flex justify-between">
      <a href="/docs/docs/learning/sequencing/" class="">sequencing</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/sequencing/arrays/" class="">arrays</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/sequencing/arrow-functions/" class="">arrow functions</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9e9c592a536d885dc59f7d3443e5419c" class="toggle"  />
    <label for="section-9e9c592a536d885dc59f7d3443e5419c" class="flex justify-between">
      <a href="/docs/docs/learning/interactivity/" class="">interactivity</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/interactivity/mouse/" class="">mouse</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/interactivity/audio/" class="">audio</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/interactivity/midi/" class="">midi</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d32e8d2211a8b3a4c95f10e7889e9b44" class="toggle"  />
    <label for="section-d32e8d2211a8b3a4c95f10e7889e9b44" class="flex justify-between">
      <a role="button" class="">extending</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/extensions/" class="">extensions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/extending-hydra/" class="">other libraries</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/glsl/" class="">custom glsl</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8afa17f34011c70734ab422498c11155" class="toggle"  />
    <label for="section-8afa17f34011c70734ab422498c11155" class="flex justify-between">
      <a href="/docs/docs/learning/extending-hydra/contributing/" class="">developing &amp; contributing</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/contributing/editor/" class="">editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/contributing/synth/" class="">developing hydra-synth</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/contributing/server/" class="">backend server</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5a7f0265de67bb55990b78cc970db95f" class="toggle"  />
    <label for="section-5a7f0265de67bb55990b78cc970db95f" class="flex justify-between">
      <a href="/docs/docs/learning/guides/" class="">guides</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/javascript/" class="">JavaScript for Hydra users</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/automatic-patches/" class="">Iteration &amp; generative patches</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/frames-and-timing/" class="">Updating frames &amp; precise timing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/textures/" class="">Textures [Hydra Book]</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/audio/" class="">Audio-reactivity explained</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/event-listeners/" class="">Clicks &amp; keys</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0eb140a6ac0de442b2f42574663cfb56" class="toggle"  />
    <label for="section-0eb140a6ac0de442b2f42574663cfb56" class="flex justify-between">
      <a role="button" class="">How to...</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/how-to/hydra-in-a-webpage/" class="">Embed Hydra on your webpage</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/how-to/record-hydra-output/" class="">Record Hydra&#39;s output</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/how-to/use-hydra-without-showing-code/" class="">Use Hydra without showing the code</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/reference/" class="">reference</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/community/" class="">community</a>
  

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/docs/posts/"  >
        blog
      </a>
  </li>
  
  <li>
    <a href="https://opencollective.com/hydra-synth"  target="_blank" rel="noopener">
        contribute
      </a>
  </li>
  
  <li>
    <a href="https://hydra.ojack.xyz/grants"  target="_blank" rel="noopener">
        grants
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/docs/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Using hydra with other javascript libraries</strong>

  <label for="toc-control">
    
    <img src="/docs/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#p5js">p5.js</a>
      <ul>
        <li><a href="#p5--hydra-example">p5 + hydra example</a></li>
        <li><a href="#breakdown-of-p5js-functions-in-hydra">breakdown of p5.js functions in hydra</a></li>
        <li><a href="#p5setup">p5.setup()</a></li>
        <li><a href="#p5draw">p5.draw()</a></li>
        <li><a href="#livecoding">Livecoding</a></li>
        <li><a href="#using-hydras-render-loop">Using Hydra&rsquo;s render loop</a></li>
        <li><a href="#note-on-using-different-frame-rates">Note on using different frame rates</a></li>
      </ul>
    </li>
    <li><a href="#loading-external-scripts">Loading external scripts</a></li>
    <li><a href="#threejs">THREE.js</a></li>
    <li><a href="#tonejs">Tone.js</a></li>
    <li><a href="#custom-libraries">Custom libraries</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="using-hydra-with-other-javascript-libraries">
  Using hydra with other javascript libraries
  <a class="anchor" href="#using-hydra-with-other-javascript-libraries">#</a>
</h1>
<p>Hydra is written in javascript, and compatible with many other javascript libraries. The hydra web editor executes javascript directly in the browser, so it is possible to load many other libraries and scripts directly in the browser.</p>
<h2 id="p5js">
  p5.js
  <a class="anchor" href="#p5js">#</a>
</h2>
<p><a href="https://p5js.org/">p5.js</a> is a JavaScript library for creative coding, with a focus on making coding accessible and inclusive for artists, designers, educators, beginners, and anyone else! p5.js is pre-loaded on the Hydra editor with a wrapper that makes it easier to use inside the website. The wrapper is a class called <code>P5</code> (notice the upper-case P). A p5.js sketch can be used as a source within a hydra sketch, and vice versa.</p>
<h3 id="p5--hydra-example">
  p5 + hydra example
  <a class="anchor" href="#p5--hydra-example">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Initialize a new p5 instance It is only necessary to call this once
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p5</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">P5</span>() <span style="color:#75715e">// {width: window.innerWidth, height:window.innerHeight, mode: &#39;P2D&#39;}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// draw a rectangle at point 300, 100
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Note that P5 runs in instance mode, so all functions need to start with the variable where P5 was initialized (in this case p5)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// reference for P5: https://P5js.org/reference/
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// explanation of instance mode: https://github.com/processing/P5.js/wiki/Global-and-instance-mode
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// When live coding, the &#34;setup()&#34; function of P5.js has basically no use; anything that you would have called in setup you can just call outside of any function.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">clear</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">100</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#a6e22e">i</span><span style="color:#f92672">*</span><span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">i</span><span style="color:#f92672">%</span><span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">255</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#a6e22e">i</span><span style="color:#f92672">*</span><span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">200</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// To live code animations, you can redefine the draw function of P5 as follows:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// (a rectangle that follows the mouse)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">draw</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">mouseX</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">mouseY</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">mouseX</span>, <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">mouseY</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">150</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// To use P5 as an input to hydra, simply use the canvas as a source:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s0</span>.<span style="color:#a6e22e">init</span>({<span style="color:#a6e22e">src</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">p5</span>.<span style="color:#a6e22e">canvas</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Then render the canvas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">src</span>(<span style="color:#a6e22e">s0</span>).<span style="color:#a6e22e">repeat</span>().<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><h3 id="breakdown-of-p5js-functions-in-hydra">
  breakdown of p5.js functions in hydra
  <a class="anchor" href="#breakdown-of-p5js-functions-in-hydra">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">p1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">P5</span>() <span style="color:#75715e">// first, load p5 in instance mode
</span></span></span></code></pre></div><p>You can also specify some settings:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">p1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">P5</span>({<span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">512</span>, <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">512</span>, <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;P2D&#39;</span>})
</span></span></code></pre></div><p>Now the p5 canvas is overlaying the Hydra canvas. You can hide it by running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">hide</span>() <span style="color:#75715e">// p1.show() to revert
</span></span></span></code></pre></div><p>And you may load it to a source to use p5&rsquo;s canvas as one:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">s0</span>.<span style="color:#a6e22e">init</span>({<span style="color:#a6e22e">src</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">canvas</span>})
</span></span></code></pre></div><h3 id="p5setup">
  p5.setup()
  <a class="anchor" href="#p5setup">#</a>
</h3>
<p>When live coding, the <code>setup()</code> function of p5 has basically no use; anything that you would have called in setup() you can simply call outside of any function. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">noStroke</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>)
</span></span></code></pre></div><h3 id="p5draw">
  p5.draw()
  <a class="anchor" href="#p5draw">#</a>
</h3>
<p>Now, to set a <code>draw</code> loop simply use all the functions and variables you are used to on global p5 from the variable you&rsquo;re using:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">draw</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">mouseX</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">mouseY</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">mouseX</span>, <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">mouseY</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">30</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="livecoding">
  Livecoding
  <a class="anchor" href="#livecoding">#</a>
</h3>
<p>You can technically call any p5 function while livecoding. So you can draw anything onto screen on evaluation instead of using the <code>draw</code> loop.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">clear</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">50</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>, <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">width</span><span style="color:#f92672">/</span><span style="color:#ae81ff">50</span><span style="color:#f92672">*</span><span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">height</span><span style="color:#f92672">/</span><span style="color:#ae81ff">50</span><span style="color:#f92672">*</span><span style="color:#a6e22e">i</span>)
</span></span></code></pre></div><h3 id="using-hydras-render-loop">
  Using Hydra&rsquo;s render loop
  <a class="anchor" href="#using-hydras-render-loop">#</a>
</h3>
<p>You can stop p5&rsquo;s own looping and do your p5 actions inside Hydra&rsquo;s render loop via the <code>update</code> function. This will synchronize p5&rsquo;s and Hydra&rsquo;s frame renders.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">noLoop</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">clear</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">colorMode</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">HSB</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">stroke</span>(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">strokeWeight</span>(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">src</span>(<span style="color:#a6e22e">o0</span>)
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">scale</span>(<span style="color:#ae81ff">1.05</span>)
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">blend</span>(<span style="color:#a6e22e">src</span>(<span style="color:#a6e22e">o0</span>).<span style="color:#a6e22e">brightness</span>(<span style="color:#f92672">-</span>.<span style="color:#ae81ff">02</span>),.<span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">modulateHue</span>(<span style="color:#a6e22e">o0</span>,<span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">layer</span>(<span style="color:#a6e22e">s0</span>)
</span></span><span style="display:flex;"><span>  	.<span style="color:#a6e22e">out</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">draw</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  	<span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">random</span>() <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0.01</span>) <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">clear</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#a6e22e">time</span><span style="color:#f92672">*</span><span style="color:#ae81ff">100</span><span style="color:#f92672">%</span><span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">70</span>, <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">random</span>()<span style="color:#f92672">*</span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">width</span>, <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">abs</span>(<span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">sin</span>(<span style="color:#a6e22e">time</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>))<span style="color:#f92672">*</span><span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">height</span>, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">update</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">dt</span>)=&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">p1</span>.<span style="color:#a6e22e">redraw</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>You could also use shape drawing functions such as <code>rect</code> directly inside <code>update</code>, but you&rsquo;ll need to take into account the coordinate system won&rsquo;t be reset automatically if modified, like when using <code>draw</code>. So you&rsquo;ll have to reset it manually by putting actions between <code>push()</code> and <code>pop()</code>. This would also stop the <code>frameCount</code> increment.</p>
<h3 id="note-on-using-different-frame-rates">
  Note on using different frame rates
  <a class="anchor" href="#note-on-using-different-frame-rates">#</a>
</h3>
<p>There are many situations where you can save resources by using a very low frame rate on p5 and a high one on Hydra or vice-versa. For example, if you want to place random shapes on the p5 canvas every second, you can set p5&rsquo;s <code>frameRate</code> to 1 and leave Hydra&rsquo;s fps undefined.</p>
<p>TO DO: add example of using hydra as texture in p5</p>
<h2 id="loading-external-scripts">
  Loading external scripts
  <a class="anchor" href="#loading-external-scripts">#</a>
</h2>
<p>The <code>await loadScript()</code> function lets you load other packaged javascript libraries within the hydra editor. Any javascript code can run in the hydra editor.</p>
<h2 id="threejs">
  THREE.js
  <a class="anchor" href="#threejs">#</a>
</h2>
<p>Here is an example using Three.js from the web editor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">loadScript</span>(<span style="color:#e6db74">&#34;https://threejs.org/build/three.js&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">scene</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">Scene</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">camera</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">PerspectiveCamera</span>(<span style="color:#ae81ff">75</span>, window.<span style="color:#a6e22e">innerWidth</span> <span style="color:#f92672">/</span> window.<span style="color:#a6e22e">innerHeight</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">renderer</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">WebGLRenderer</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">setSize</span>(<span style="color:#a6e22e">width</span>, <span style="color:#a6e22e">height</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">geometry</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">BoxGeometry</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">material</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">MeshBasicMaterial</span>({<span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0x00ff00</span>})
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cube</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">Mesh</span>(<span style="color:#a6e22e">geometry</span>, <span style="color:#a6e22e">material</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">scene</span>.<span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">cube</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">camera</span>.<span style="color:#a6e22e">position</span>.<span style="color:#a6e22e">z</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// &#39;update&#39; is a reserved function that will be run every time the main hydra rendering context is updated
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">update</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">cube</span>.<span style="color:#a6e22e">rotation</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.01</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">cube</span>.<span style="color:#a6e22e">rotation</span>.<span style="color:#a6e22e">y</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.01</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">render</span>( <span style="color:#a6e22e">scene</span>, <span style="color:#a6e22e">camera</span> );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s0</span>.<span style="color:#a6e22e">init</span>({ <span style="color:#a6e22e">src</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">domElement</span> })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">src</span>(<span style="color:#a6e22e">s0</span>).<span style="color:#a6e22e">repeat</span>().<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><h2 id="tonejs">
  Tone.js
  <a class="anchor" href="#tonejs">#</a>
</h2>
<p>And here is an example loading the Tone.js library:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">loadScript</span>(<span style="color:#e6db74">&#34;https://unpkg.com/tone&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">synth</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Tone</span>.<span style="color:#a6e22e">Synth</span>().<span style="color:#a6e22e">toDestination</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">synth</span>.<span style="color:#a6e22e">triggerAttackRelease</span>(<span style="color:#e6db74">&#34;C4&#34;</span>, <span style="color:#e6db74">&#34;8n&#34;</span>);
</span></span></code></pre></div><h2 id="custom-libraries">
  Custom libraries
  <a class="anchor" href="#custom-libraries">#</a>
</h2>
<p>In the Hydra editor, you can load any external scripts, libraries or hydra-synth extensions using the following syntax at the top of your sketch:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">loadScript</span>(<span style="color:#e6db74">&#34;https://www.somewebsite.com/url/to/hydra-script.js&#34;</span>)
</span></span></code></pre></div><p>You can also suffer from <a href="./external_sources.md#cors-policy">CORS policy problems</a> if the script/package you&rsquo;re loading doesn&rsquo;t come from a CDN. If you want to load from a GitHub or GitLab repo, you can use special CDNs like <code>statically.io</code>.</p>
<hr>
<p>contributors: geikha, olivia</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/hydra-synth/hydra-docs-v2/commit/1dd27b0a5f5ca9dcec9e0cccc27657c0a09cf72d" title='Last modified by ojack | November 20, 2023' target="_blank" rel="noopener">
      <img src="/docs/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>November 20, 2023</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/hydra-synth/hydra-docs-v2/edit/main/content/docs/learning_tutorial/next-steps/extending-hydra.md" target="_blank" rel="noopener">
      <img src="/docs/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#p5js">p5.js</a>
      <ul>
        <li><a href="#p5--hydra-example">p5 + hydra example</a></li>
        <li><a href="#breakdown-of-p5js-functions-in-hydra">breakdown of p5.js functions in hydra</a></li>
        <li><a href="#p5setup">p5.setup()</a></li>
        <li><a href="#p5draw">p5.draw()</a></li>
        <li><a href="#livecoding">Livecoding</a></li>
        <li><a href="#using-hydras-render-loop">Using Hydra&rsquo;s render loop</a></li>
        <li><a href="#note-on-using-different-frame-rates">Note on using different frame rates</a></li>
      </ul>
    </li>
    <li><a href="#loading-external-scripts">Loading external scripts</a></li>
    <li><a href="#threejs">THREE.js</a></li>
    <li><a href="#tonejs">Tone.js</a></li>
    <li><a href="#custom-libraries">Custom libraries</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












