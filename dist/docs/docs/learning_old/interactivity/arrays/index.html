<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Arrays # Sequence your inputs # When you send an Array as an input, Hydra will automatically switch and jump from each element from the Array to the next one. When there are no more elements, it wraps all the way back to the beginning. Let&rsquo;s see it in action:
As you can see, the fact that both these Arrays have a different amount of values doesn&rsquo;t matter, Hydra will take values from each element of any Array for the same amount of time by default.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="Arrays # Sequence your inputs # When you send an Array as an input, Hydra will automatically switch and jump from each element from the Array to the next one. When there are no more elements, it wraps all the way back to the beginning. Let&rsquo;s see it in action:
As you can see, the fact that both these Arrays have a different amount of values doesn&rsquo;t matter, Hydra will take values from each element of any Array for the same amount of time by default." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hydra.ojack.xyz/docs/docs/learning_old/interactivity/arrays/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2023-11-17T18:58:46+01:00" />

<title>Arrays | hydra video synth</title>
<link rel="manifest" href="/docs/manifest.json">
<link rel="icon" href="/docs/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/docs/book.min.9bac9dc478cf52ca962a4f35e004c2cdc70a5461e7451956af25f951f9749ded.css" integrity="sha256-m6ydxHjPUsqWKk814ATCzccKVGHnRRlWryX5Ufl0ne0=" crossorigin="anonymous">
  <script defer src="/docs/flexsearch.min.js"></script>
  <script defer src="/docs/en.search.min.cd7d8d297f2cd7af2e324f19c201fa31d3d82009065e2c5825f67d53c44b94e2.js" integrity="sha256-zX2NKX8s168uMk8ZwgH6MdPYIAkGXixYJfZ9U8RLlOI=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/codemirror.min.css"
integrity="sha512-MWdvo/Qqcf4pY1ecQUB1uBn0qLp19U/qJ1Rpp2BDZeuBA7YsFEwkvqR/+aG4BroPiAYDunKJ6X8R/Pmdt3p7oA=="
crossorigin="anonymous"
/>
<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/show-hint.min.css"
crossorigin="anonymous"
/>
<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/theme/paraiso-dark.min.css"
crossorigin="anonymous"
/>
<script src="https://cdn.jsdelivr.net/npm/torus-dom/dist/index.min.js"></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/codemirror.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/mode/javascript/javascript.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/javascript-hint.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/hint/show-hint.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/selection/mark-selection.min.js"
crossorigin="anonymous"
></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.2/addon/comment/comment.min.js"
crossorigin="anonymous"
></script>
<script src="https://cdn.jsdelivr.net/npm/hydra-synth/dist/hydra-synth.js"></script>
<script src="https://hydra.ojack.xyz/docs//js/hydra-torus-editor.js"></script>
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/docs/"><span>hydra video synth</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  



  
    
  
    
  



<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/docs/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="https://hydra.ojack.xyz/docs/ja/">
          日本語
        </a>
      </li>
      
      <li>
        <a href="https://hydra.ojack.xyz/docs/pt/">
          Portuguese | Português
        </a>
      </li>
      
    </ul>
  </li>
</ul>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/quick-start/" class="">quick start</a>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-632bd1ffdbcae04a1b0f08fa1dd878c0" class="toggle"  />
    <label for="section-632bd1ffdbcae04a1b0f08fa1dd878c0" class="flex justify-between">
      <a href="/docs/docs/learning/" class="">learning</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/getting-started/" class="">getting started</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/web-editor/" class="">web editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-abc558a55caa3a21197cd84f6409f58d" class="toggle"  />
    <label for="section-abc558a55caa3a21197cd84f6409f58d" class="flex justify-between">
      <a href="/docs/docs/learning/video-synth-basics/" class="">video synth basics</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/src/" class="">sources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/outputs/" class="">outputs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/transforms/" class="">transforms</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/blending/" class="">blending</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/modulate/" class="">modulation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/video-synth-basics/settings/" class="">settings &amp; state</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/external-sources/" class="">external sources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-eca88cb65a773793437f0e9114baf99c" class="toggle"  />
    <label for="section-eca88cb65a773793437f0e9114baf99c" class="flex justify-between">
      <a href="/docs/docs/learning/sequencing/" class="">sequencing</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/sequencing/arrays/" class="">arrays</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/sequencing/arrow-functions/" class="">arrow functions</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9e9c592a536d885dc59f7d3443e5419c" class="toggle"  />
    <label for="section-9e9c592a536d885dc59f7d3443e5419c" class="flex justify-between">
      <a href="/docs/docs/learning/interactivity/" class="">interactivity</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/interactivity/mouse/" class="">mouse</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/interactivity/audio/" class="">audio</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/interactivity/midi/" class="">midi</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d32e8d2211a8b3a4c95f10e7889e9b44" class="toggle"  />
    <label for="section-d32e8d2211a8b3a4c95f10e7889e9b44" class="flex justify-between">
      <a role="button" class="">extending</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/extensions/" class="">extensions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/extending-hydra/" class="">other libraries</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/glsl/" class="">custom glsl</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8afa17f34011c70734ab422498c11155" class="toggle"  />
    <label for="section-8afa17f34011c70734ab422498c11155" class="flex justify-between">
      <a href="/docs/docs/learning/extending-hydra/contributing/" class="">developing &amp; contributing</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/contributing/editor/" class="">editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/contributing/synth/" class="">developing hydra-synth</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/extending-hydra/contributing/server/" class="">backend server</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5a7f0265de67bb55990b78cc970db95f" class="toggle"  />
    <label for="section-5a7f0265de67bb55990b78cc970db95f" class="flex justify-between">
      <a href="/docs/docs/learning/guides/" class="">guides</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/javascript/" class="">JavaScript for Hydra users</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/automatic-patches/" class="">Iteration &amp; generative patches</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/frames-and-timing/" class="">Updating frames &amp; precise timing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/textures/" class="">Textures [Hydra Book]</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/audio/" class="">Audio-reactivity explained</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/event-listeners/" class="">Clicks &amp; keys</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0eb140a6ac0de442b2f42574663cfb56" class="toggle"  />
    <label for="section-0eb140a6ac0de442b2f42574663cfb56" class="flex justify-between">
      <a role="button" class="">How to...</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/how-to/hydra-in-a-webpage/" class="">Embed Hydra on your webpage</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/how-to/record-hydra-output/" class="">Record Hydra&#39;s output</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/learning/guides/how-to/use-hydra-without-showing-code/" class="">Use Hydra without showing the code</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/reference/" class="">reference</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docs/community/" class="">community</a>
  

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/docs/posts/"  >
        blog
      </a>
  </li>
  
  <li>
    <a href="https://opencollective.com/hydra-synth"  target="_blank" rel="noopener">
        contribute
      </a>
  </li>
  
  <li>
    <a href="https://hydra.ojack.xyz/grants"  target="_blank" rel="noopener">
        grants
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/docs/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Arrays</strong>

  <label for="toc-control">
    
    <img src="/docs/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#arrays">Arrays</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h3 id="arrays">
  Arrays
  <a class="anchor" href="#arrays">#</a>
</h3>
<h4 id="sequence-your-inputs">
  Sequence your inputs
  <a class="anchor" href="#sequence-your-inputs">#</a>
</h4>
<p>When you send an Array as an input, Hydra will automatically switch and jump from each element from the Array to the next one. When there are no more elements, it wraps all the way back to the beginning. Let&rsquo;s see it in action:</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "osc([20,30,50,60],.1,[0,1.5])\n\t.out()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><p>As you can see, the fact that both these Arrays have a different amount of values doesn&rsquo;t matter, Hydra will take values from each element of any Array for the same amount of time by default.</p>
<p>The Arrays can be passed in any way, you may have a variable that stores an Array and use its name within your sketches (not recommended in some scenarios, more info below), you may create a function that returns Arrays and use that to automatically generate discrete sequences of values:</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "randomArray = (l=12)=\u003e Array.from({length: l}, Math.random);\ngradient()\n\t.hue(randomArray())\n\t.out()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><h4 id="changing-the-global-bpm-for-arrays">
  Changing the global bpm for Arrays
  <a class="anchor" href="#changing-the-global-bpm-for-arrays">#</a>
</h4>
<p>To change how rapidly Hydra switches from element to element of all Arrays, you can change the <code>bpm</code> variable (meaning beats per minute) to any value you desire:</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "bpm = 138 // change me !\nrandomArray = (l=12)=\u003e Array.from({length: l}, Math.random);\ngradient()\n\t.hue(randomArray())\n\t.out()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><p>The default value for <code>bpm</code> is 30.</p>
<p>When livecoding visuals at the same time that music is playing, it can be useful to have a tapping metronome opened to keep track of the BPM being played and set this variable as such.</p>
<h4 id="changing-the-speed-of-a-specific-array">
  Changing the speed of a specific Array
  <a class="anchor" href="#changing-the-speed-of-a-specific-array">#</a>
</h4>
<p>Hydra adds a couple of methods to all Arrays to be used inside Hydra. <code>.fast</code> will control the speed at which Hydra takes elements from the Array. It receives a Number as argument, by which the global speed will be multiplied. So calling <code>.fast(1)</code> on an Array is the same as nothing. Higher values will generate faster switching, while lower than 1 values will be slower.</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "bpm = 45\nosc([20,30,50,60],.1,[0,1.5].fast(1.5)) // 50% faster\n    //.rotate([-.2,0,.2].fast(1)) // try different speeds for each array\n\t.out()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><h4 id="offsetting-the-timing-of-an-array">
  Offsetting the timing of an Array
  <a class="anchor" href="#offsetting-the-timing-of-an-array">#</a>
</h4>
<p>Another one of the methods Hydra adds to Arrays, allows you to offset the timing at which Hydra will switch from one element of the Array to the next one. The method <code>.offset</code> takes a Number from 0 to 1.</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "bpm = 45\nosc([20,30,50,60],.1,[0,1.5].offset(.5)) // try changing the offset\n\t.out()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><h4 id="fitting-the-values-of-an-array-within-a-range">
  Fitting the values of an Array within a range
  <a class="anchor" href="#fitting-the-values-of-an-array-within-a-range">#</a>
</h4>
<p>Sometimes you have an Array whose values aren&rsquo;t very useful when used as input for a some Hydra function.
Hydra adds a <code>.fit</code> method to Arrays which takes a minimum and a maximum to which fit the values into:</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "bpm = 120\narr = ()=\u003e [1,2,4,8,16,32,64,128,256,512]\nosc(50,.1,arr().fit(0,Math.PI))\n\t.scale(arr().fit(1,2))\n\t.out()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><h4 id="interpolating-between-values">
  Interpolating between values
  <a class="anchor" href="#interpolating-between-values">#</a>
</h4>
<p>You can also interpolate between values instead of jumping from one to the other. That is, smoothly transition between values. For this you can use the <code>.smooth</code> method. It may take a Number argument (defaulted to 1) which controls the smoothness.</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "bpm = 50\narr = [0,0.8,2]\nosc(50,.1,arr.smooth())\n\t.rotate(arr.fit(-Math.PI/4,Math.PI/4).smooth())\n\t.out()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><p>Try smoothing some of the above examples and see what happens!</p>
<h5 id="easing-functions">
  Easing functions
  <a class="anchor" href="#easing-functions">#</a>
</h5>
<p>The default interpolation used by Hydra on an Array that called <code>.smooth</code> is linear interpolation. You can select a different easing function as follows:</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "bpm = 50\narr = [0,0.8,2]\nosc(50,.1,arr.ease('easeInQuad'))\n\t.rotate(arr.fit(-Math.PI/4,Math.PI/4).ease('easeOutQuad'))\n\t.out() // try other easing functions !"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><p>The following are the available easing functions:</p>
<ul>
<li>linear: no easing, no acceleration</li>
<li>easeInQuad: accelerating from zero velocity</li>
<li>easeOutQuad: decelerating to zero velocity</li>
<li>easeInOutQuad: acceleration until halfway, then deceleration</li>
<li>easeInCubic</li>
<li>easeOutCubic</li>
<li>easeInOutCubic</li>
<li>easeInQuart</li>
<li>easeOutQuart</li>
<li>easeInOutQuart</li>
<li>easeInQuint</li>
<li>easeOutQuint</li>
<li>easeInOutQuint</li>
<li>sin: sinusoidal shape</li>
</ul>
<h4 id="note-on-storing-arrays-on-variables--functions">
  Note on storing Arrays on variables / functions
  <a class="anchor" href="#note-on-storing-arrays-on-variables--functions">#</a>
</h4>
<p>Storing an Array in a variable can lead to some trouble as soon as you apply some of the just-mentioned functions to it. Since Arrays are Objects, each time you call your variable, you&rsquo;ll be calling the same Object. If you apply some speed via <code>.fast</code> or smoothness via <code>.smooth</code> somewhere in your patch, and then use the same variable, all the following uses of the Array will also have these effects applied to them. For example</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "arr = [1,2,3]\nosc(30,.1,arr.smooth())\n\t.rotate(arr)\n\t.out()\n\narr2 = () =\u003e [1,2,3]\nosc(30,.1,arr2().smooth())\n\t.rotate(arr2())\n\t.out(o1)\n\nrender()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><h4 id="note-on-arrays-and-textures">
  Note on Arrays and textures
  <a class="anchor" href="#note-on-arrays-and-textures">#</a>
</h4>
<p>Note that the following will not work:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">solid</span>(<span style="color:#ae81ff">1</span>,.<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">diff</span>([<span style="color:#a6e22e">osc</span>(),<span style="color:#a6e22e">noise</span>()])
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><p>Hydra can&rsquo;t handle Arrays of textures. You can work around it in some ways:</p>
<div class="hydra-example">
    
    <div></div>
    <script>
        
       
       
    
        var preEl = document.currentScript.previousElementSibling
       
        
        
        var originalCode = "solid(1,.5,0)\n\t.diff(osc().blend(noise(),[0,1].smooth()))\n\t.out()"
        var codeApp = new CodeApp();
        preEl.insertAdjacentElement("afterend", codeApp.node);
        
        codeApp.cmApp.loaded(originalCode);
            
        preEl.style.display = "none";
    </script>
</div><p>Unfortunately, if you want to use many textures this solution doesn&rsquo;t really apply.</p>
<p>Users of Hydra have come up with some experimental solutions which might come in handy in some scenarios, but they come with some drawbacks:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// blending method, heavy GPU load.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// every element from the array will be rendered even if not shown.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// allows for blending between elements.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">select</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">arr</span>,<span style="color:#a6e22e">l</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">clamp</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">num</span>, <span style="color:#a6e22e">min</span>, <span style="color:#a6e22e">max</span>) =&gt; Math.<span style="color:#a6e22e">min</span>(Math.<span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">num</span>, <span style="color:#a6e22e">min</span>), <span style="color:#a6e22e">max</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">blending</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">l</span>,<span style="color:#a6e22e">i</span>)=&gt; (<span style="color:#a6e22e">clamp</span>(<span style="color:#a6e22e">l</span><span style="color:#f92672">-</span>(<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>),<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">isFunction</span> <span style="color:#f92672">=</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">l</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;function&#39;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">reduce</span>((<span style="color:#a6e22e">prev</span>,<span style="color:#a6e22e">curr</span>,<span style="color:#a6e22e">i</span>)=&gt;
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">prev</span>.<span style="color:#a6e22e">blend</span>(<span style="color:#a6e22e">curr</span>, <span style="color:#a6e22e">isFunction</span> <span style="color:#f92672">?</span> ()=&gt;<span style="color:#a6e22e">blending</span>(<span style="color:#a6e22e">l</span>(),<span style="color:#a6e22e">i</span>) <span style="color:#f92672">:</span> <span style="color:#a6e22e">blending</span>(<span style="color:#a6e22e">l</span>,<span style="color:#a6e22e">i</span>))
</span></span><span style="display:flex;"><span>	)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">textures</span> <span style="color:#f92672">=</span> [<span style="color:#a6e22e">noise</span>(), <span style="color:#a6e22e">osc</span>(), <span style="color:#a6e22e">voronoi</span>(), <span style="color:#a6e22e">gradient</span>()]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">select</span>(<span style="color:#a6e22e">textures</span>,()=&gt;Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">mouse</span>.<span style="color:#a6e22e">x</span><span style="color:#f92672">/</span><span style="color:#a6e22e">innerWidth</span><span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>))
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">out</span>()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// re-compiling method, heavy CPU load. 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// it reserves an output for the switching. 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// can&#39;t blend between elements. 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// each time an element switches the shader must be recompiled
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">osc</span>(<span style="color:#ae81ff">20</span>)
</span></span><span style="display:flex;"><span>  	.<span style="color:#a6e22e">rotate</span>()
</span></span><span style="display:flex;"><span>  	.<span style="color:#a6e22e">modulate</span>(<span style="color:#a6e22e">o3</span>,.<span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">out</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">textures</span> <span style="color:#f92672">=</span> [<span style="color:#a6e22e">noise</span>(), <span style="color:#a6e22e">osc</span>(), <span style="color:#a6e22e">voronoi</span>(), <span style="color:#a6e22e">shape</span>()]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">tex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">textures</span>[<span style="color:#a6e22e">index</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">update</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">dt</span>)=&gt; {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">time</span> <span style="color:#f92672">%</span> (<span style="color:#ae81ff">60</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">bpm</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">1000</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">dt</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">index</span><span style="color:#f92672">++</span>; <span style="color:#a6e22e">index</span> <span style="color:#f92672">%=</span> <span style="color:#a6e22e">textures</span>.<span style="color:#a6e22e">length</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">tex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">textures</span>[<span style="color:#a6e22e">index</span>]
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">tex</span>.<span style="color:#a6e22e">out</span>(<span style="color:#a6e22e">o3</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/hydra-synth/hydra-docs-v2/commit/b780dd582eca11d5018341b7d58e811215012df0" title='Last modified by ojack | November 17, 2023' target="_blank" rel="noopener">
      <img src="/docs/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>November 17, 2023</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/hydra-synth/hydra-docs-v2/edit/main/content/docs/learning_old/interactivity/arrays.md" target="_blank" rel="noopener">
      <img src="/docs/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#arrays">Arrays</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












